<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de recherche immobilière</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Formulaire de recherche immobilière</h1>
        <p class="subtitle"><span class="required">*</span> Indique une question obligatoire</p>

        <form id="immobilierForm" data-webhook-url="https://linkfixer.io/webhook/b9a5815e-08b2-4ae9-bf04-4a102e91e964" data-webhook-url-test="https://linkfixer.io/webhook-test/b9a5815e-08b2-4ae9-bf04-4a102e91e964">
            <!-- Ville -->
            <div class="form-group">
                <label for="ville">Ville <span class="required">*</span></label>
                <div class="autocomplete-container">
                    <input 
                        type="text" 
                        id="ville" 
                        name="ville_display" 
                        required 
                        placeholder="Entrez le nom d'une ville"
                        autocomplete="off">
                    <input type="hidden" id="ville_code" name="ville" required>
                    <div class="autocomplete-list" id="autocomplete-list"></div>
                </div>
            </div>

            <!-- Rayon -->
            <div class="form-group">
                <label for="rayon">Rayon de recherche</label>
                <div class="slider-container">
                    <div class="slider-wrapper">
                        <input 
                            type="range" 
                            id="rayon" 
                            name="rayon" 
                            min="0" 
                            max="200" 
                            value="3" 
                            step="1">
                        <span class="slider-value" id="rayon-value">3 km</span>
                    </div>
                </div>
            </div>

            <!-- Bien -->
            <div class="form-group">
                <label>Bien <span class="required">*</span></label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="vente" name="bien" value="vente" required>
                        <label for="vente">Vente Immobilière</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="location" name="bien" value="location">
                        <label for="location">Location</label>
                    </div>
                </div>
            </div>

            <!-- Type de bien -->
            <div class="form-group">
                <label>Type de bien <span class="required">*</span></label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="appartement" name="type_bien" value="appartement" required>
                        <label for="appartement">Appartement</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="maison" name="type_bien" value="maison">
                        <label for="maison">Maison</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="terrain" name="type_bien" value="terrain">
                        <label for="terrain">Terrain</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="parking" name="type_bien" value="parking">
                        <label for="parking">Parking</label>
                    </div>
                </div>
            </div>

            <!-- Type d'annonces -->
            <div class="form-group">
                <label>Type d'annonces <span class="required">*</span></label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="offres" name="type_annonces" value="offres" required>
                        <label for="offres">Offres</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="demandes" name="type_annonces" value="demandes">
                        <label for="demandes">Demandes</label>
                    </div>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Prix -->
            <div class="form-group">
                <label>Prix (€)</label>
                <div class="price-row">
                    <input type="text" name="prix_min" placeholder="Prix minimum" inputmode="numeric" pattern="[0-9\\s]*" data-format="number">
                    <input type="text" name="prix_max" placeholder="Prix maximum" inputmode="numeric" pattern="[0-9\\s]*" data-format="number">
                </div>
            </div>

            <!-- Surface habitable -->
            <div class="form-group">
                <label>Surface habitable (m²)</label>
                <div class="price-row">
                    <input type="text" name="surface_min" placeholder="Surface minimum" inputmode="numeric" pattern="[0-9\\s]*" data-format="number">
                    <input type="text" name="surface_max" placeholder="Surface maximum" inputmode="numeric" pattern="[0-9\\s]*" data-format="number">
                </div>
            </div>

            <!-- Type de vente -->
            <div class="form-group">
                <label>Type de vente</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="ancien" name="type_vente" value="ancien">
                        <label for="ancien">Ancien</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="neuf" name="type_vente" value="neuf">
                        <label for="neuf">Neuf</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="viager" name="type_vente" value="viager">
                        <label for="viager">Viager</label>
                    </div>
                </div>
            </div>

            <!-- Surface du terrain -->
            <div class="form-group">
                <label for="surface_terrain">Surface du terrain minimum (m²)</label>
                <input type="text" id="surface_terrain" name="surface_terrain" placeholder="Surface minimum" inputmode="numeric" pattern="[0-9\\s]*" data-format="number">
            </div>

            <!-- Pièces -->
            <div class="form-group">
                <label>Pièces</label>
                <div class="number-grid">
                    <div class="number-option">
                        <input type="checkbox" id="pieces_1" name="pieces" value="1">
                        <label for="pieces_1">1</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_2" name="pieces" value="2">
                        <label for="pieces_2">2</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_3" name="pieces" value="3">
                        <label for="pieces_3">3</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_4" name="pieces" value="4">
                        <label for="pieces_4">4</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_5" name="pieces" value="5">
                        <label for="pieces_5">5</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_6" name="pieces" value="6">
                        <label for="pieces_6">6</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_7" name="pieces" value="7">
                        <label for="pieces_7">7</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="pieces_8" name="pieces" value="8+">
                        <label for="pieces_8">8+</label>
                    </div>
                </div>
            </div>

            <!-- Chambres -->
            <div class="form-group">
                <label>Chambres</label>
                <div class="number-grid">
                    <div class="number-option">
                        <input type="checkbox" id="chambres_1" name="chambres" value="1">
                        <label for="chambres_1">1</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_2" name="chambres" value="2">
                        <label for="chambres_2">2</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_3" name="chambres" value="3">
                        <label for="chambres_3">3</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_4" name="chambres" value="4">
                        <label for="chambres_4">4</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_5" name="chambres" value="5">
                        <label for="chambres_5">5</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_6" name="chambres" value="6">
                        <label for="chambres_6">6</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_7" name="chambres" value="7">
                        <label for="chambres_7">7</label>
                    </div>
                    <div class="number-option">
                        <input type="checkbox" id="chambres_8" name="chambres" value="8+">
                        <label for="chambres_8">8+</label>
                    </div>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Extérieur -->
            <div class="form-group">
                <label>Extérieur</label>
                <div class="checkbox-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="balcon" name="exterieur" value="balcon">
                        <label for="balcon">Balcon</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="terrasse" name="exterieur" value="terrasse">
                        <label for="terrasse">Terrasse</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="jardin" name="exterieur" value="jardin">
                        <label for="jardin">Jardin</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="piscine" name="exterieur" value="piscine">
                        <label for="piscine">Piscine</label>
                    </div>
                </div>
            </div>

            <!-- Étage de l'appartement -->
            <div class="form-group">
                <label>Étage de l'appartement</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="rdc" name="etage" value="rdc">
                        <label for="rdc">Rez-de-chaussée</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="etage_eleve" name="etage" value="eleve">
                        <label for="etage_eleve">Étage élevé</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="dernier_etage" name="etage" value="dernier">
                        <label for="dernier_etage">Dernier étage</label>
                    </div>
                </div>
            </div>

            <!-- Ascenseur -->
            <div class="form-group">
                <label>Annonces avec ascenseur uniquement</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="ascenseur_oui" name="ascenseur" value="oui">
                        <label for="ascenseur_oui">Oui</label>
                    </div>
                </div>
            </div>

            <!-- État du bien -->
            <div class="form-group">
                <label>État du bien</label>
                <div class="checkbox-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="bon_etat" name="etat" value="bon">
                        <label for="bon_etat">Bon état</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="renove" name="etat" value="renove">
                        <label for="renove">Rénové</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="tres_bon" name="etat" value="tres_bon">
                        <label for="tres_bon">Très bon état</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="rafraichir" name="etat" value="rafraichir">
                        <label for="rafraichir">À rafraîchir</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="travaux" name="etat" value="travaux">
                        <label for="travaux">Travaux à prévoir</label>
                    </div>
                </div>
            </div>

            <div class="divider"></div>

            <!-- Classe Énergétique -->
            <div class="form-group">
                <label>Classe Énergétique</label>
                <div class="dpe-grid">
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_a" name="dpe" value="A">
                        <label for="dpe_a">A</label>
                    </div>
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_b" name="dpe" value="B">
                        <label for="dpe_b">B</label>
                    </div>
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_c" name="dpe" value="C">
                        <label for="dpe_c">C</label>
                    </div>
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_d" name="dpe" value="D">
                        <label for="dpe_d">D</label>
                    </div>
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_e" name="dpe" value="E">
                        <label for="dpe_e">E</label>
                    </div>
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_f" name="dpe" value="F">
                        <label for="dpe_f">F</label>
                    </div>
                    <div class="dpe-option">
                        <input type="checkbox" id="dpe_g" name="dpe" value="G">
                        <label for="dpe_g">G</label>
                    </div>
                    <div class="dpe-option long-label">
                        <input type="checkbox" id="dpe_vierge" name="dpe" value="vierge">
                        <label for="dpe_vierge">Vierge</label>
                    </div>
                    <div class="dpe-option long-label">
                        <input type="checkbox" id="dpe_non_soumis" name="dpe" value="non_soumis">
                        <label for="dpe_non_soumis">Non soumis DPE</label>
                    </div>
                </div>
            </div>

            <!-- Annonce urgente -->
            <div class="form-group">
                <label>Annonce urgente</label>
                <div class="checkbox-group">
                    <div class="checkbox-option">
                        <input type="checkbox" id="urgente" name="urgente" value="oui">
                        <label for="urgente">Annonces urgentes uniquement</label>
                    </div>
                </div>
            </div>

            <button type="submit" class="submit-btn">Rechercher</button>
        </form>
    </div>

    <script src="app.js"></script>
    <script src="mapper.js"></script>
</body>
</html>
